import{b as k,Q as h}from"./use-dark.d85c521f.js";import{e as v}from"./QBtn.251daa3f.js";import{u as S,Q as B,_ as x,c as C}from"./localStorage.38810204.js";import{T as g,k as $,i as Q}from"./types.1201977b.js";import{d as E,A as q,r as d,a as V,B as A,V as D,D as J,E as M,F as p,H as w,G as a,W as O}from"./index.135a5d6f.js";const P={[g.String]:"str",[g.Number]:"int",[g.Boolean]:"bool",[g.Empty]:"Any"},j=r=>{var t;return(t=P[r])!=null?t:r},R=r=>{let t=r,e=0;for(;t.endsWith("[]");)t=t.substring(0,t.length-2),e+=1;let s=j(t);for(let o=0;o<e;o++)s=`list[${s}]`;return s};function*W(r,t){const e=$(r);yield"from dataclasses import dataclass",yield"";for(const{name:s,type:o}of e){if(!Q(o))continue;yield"@dataclass",yield`class ${s}:`;const c=o,m=Object.keys(c);for(const i of m){const f=c[i],b=f.endsWith("[]")?R(f):j(f);yield`  ${i}: ${b}`}yield""}}const I={class:"q-pa-md"},L={class:"q-pa-md"},z=E({__name:"Python",setup(r){q();const t=S(),e=d(""),s=d(""),o=d(""),_=d(!1),c=d({}),m=d();V(async()=>{const l=Object.keys(c.value);for(const n of l)t.assign(`/transform/java/${n}`,u=>c.value[n]=u);e.value=t.get("/transform/mysql/input")||JSON.stringify({id:1,userId:1,title:"delectus aut autem",completed:!1,created:"2024-01-06T13:39:32.006Z"},null,2),await i(e.value)}),A(async l=>{await i(e.value,l.query.kind)});const i=async(l,n)=>{var T;o.value="";const u=D(c.value);t.set("/transform/input",l);try{const y=JSON.parse(l);s.value=(T=Array.from(W(y,u)).join(`
`))!=null?T:""}catch(y){if(y instanceof SyntaxError)o.value=y.message;else throw y}},f=async()=>{await m.value.formatDoc()},b=async()=>{e.value=""},N=async()=>{await C(s.value)};return(l,n)=>(J(),M(B,{"model-value":50},{before:p(()=>[w("div",I,[a(h,{class:"text-primary"},{default:p(()=>[a(k,null,{default:p(()=>[O("JSON")]),_:1}),a(v,{flat:"",round:"",dense:"",icon:"format_align_left",onClick:f}),a(v,{flat:"",round:"",dense:"",icon:"delete",onClick:b})]),_:1}),a(x,{text:e.value,"onUpdate:text":n[0]||(n[0]=u=>e.value=u),language:"json",onChanged:i,ref_key:"inputEditor",ref:m},null,8,["text"])])]),after:p(()=>[w("div",L,[a(h,{class:"text-primary"},{default:p(()=>[a(k,null,{default:p(()=>[O("Python")]),_:1}),a(v,{flat:"",round:"",dense:"",icon:"settings",onClick:n[1]||(n[1]=u=>_.value=!_.value),disable:""}),a(v,{flat:"",round:"",dense:"",icon:"content_copy",onClick:N})]),_:1}),a(x,{text:s.value,language:"python"},null,8,["text"])])]),_:1}))}});export{z as default};
