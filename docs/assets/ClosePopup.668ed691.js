import{c as U,k as Ae,h as ze,d as de,l as Qe,Q as Re,m as fe,n as G,o as Ke,i as je}from"./QBtn.251daa3f.js";import{h as v,r as T,c as f,V as D,g as j,q as R,x as Ne,a1 as ve,a2 as We,a as Ye,n as Ve,a3 as Ge,e as J,a4 as ge,a5 as pe,o as Xe,a6 as Ue,a7 as Je,Y as C,l as P,a8 as Ze,p as $e,w as be,T as ye}from"./index.135a5d6f.js";import{a as et,u as tt}from"./use-dark.d85c521f.js";import{d as ot,c as nt,i as lt,u as it,a as at,b as st}from"./scroll.b5e4fcc4.js";const rt=v("div",{class:"q-space"});var Nt=U({name:"QSpace",setup(){return()=>rt}});function ut(e,o){const t=T(null),n=f(()=>e.disable===!0?null:v("span",{ref:t,class:"no-outline",tabindex:-1}));function l(a){const i=o.value;a!==void 0&&a.type.indexOf("key")===0?i!==null&&document.activeElement!==i&&i.contains(document.activeElement)===!0&&i.focus():t.value!==null&&(a===void 0||i!==null&&i.contains(a.target)===!0)&&t.value.focus()}return{refocusTargetEl:n,refocusTarget:l}}const ct={name:String};function dt(e={}){return(o,t,n)=>{o[t](v("input",{class:"hidden"+(n||""),...e.value}))}}var ft={xs:30,sm:35,md:40,lg:50,xl:60};const vt={...tt,...Qe,...ct,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},mt=["update:modelValue"];function ht(e,o){const{props:t,slots:n,emit:l,proxy:a}=j(),{$q:i}=a,b=et(t,i),m=T(null),{refocusTargetEl:p,refocusTarget:k}=ut(t,m),y=Ae(t,ft),w=f(()=>t.val!==void 0&&Array.isArray(t.modelValue)),s=f(()=>{const u=D(t.val);return w.value===!0?t.modelValue.findIndex(E=>D(E)===u):-1}),d=f(()=>w.value===!0?s.value>-1:D(t.modelValue)===D(t.trueValue)),q=f(()=>w.value===!0?s.value===-1:D(t.modelValue)===D(t.falseValue)),_=f(()=>d.value===!1&&q.value===!1),L=f(()=>t.disable===!0?-1:t.tabindex||0),M=f(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(t.disable===!0?" disabled":"")+(b.value===!0?` q-${e}--dark`:"")+(t.dense===!0?` q-${e}--dense`:"")+(t.leftLabel===!0?" reverse":"")),c=f(()=>{const u=d.value===!0?"truthy":q.value===!0?"falsy":"indet",E=t.color!==void 0&&(t.keepColor===!0||(e==="toggle"?d.value===!0:q.value!==!0))?` text-${t.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${u}${E}`}),h=f(()=>{const u={type:"checkbox"};return t.name!==void 0&&Object.assign(u,{".checked":d.value,"^checked":d.value===!0?"checked":void 0,name:t.name,value:w.value===!0?t.val:t.trueValue}),u}),x=dt(h),F=f(()=>{const u={tabindex:L.value,role:e==="toggle"?"switch":"checkbox","aria-label":t.label,"aria-checked":_.value===!0?"mixed":d.value===!0?"true":"false"};return t.disable===!0&&(u["aria-disabled"]="true"),u});function S(u){u!==void 0&&(R(u),k(u)),t.disable!==!0&&l("update:modelValue",Z(),u)}function Z(){if(w.value===!0){if(d.value===!0){const u=t.modelValue.slice();return u.splice(s.value,1),u}return t.modelValue.concat([t.val])}if(d.value===!0){if(t.toggleOrder!=="ft"||t.toggleIndeterminate===!1)return t.falseValue}else if(q.value===!0){if(t.toggleOrder==="ft"||t.toggleIndeterminate===!1)return t.trueValue}else return t.toggleOrder!=="ft"?t.trueValue:t.falseValue;return t.indeterminateValue}function ee(u){(u.keyCode===13||u.keyCode===32)&&R(u)}function te(u){(u.keyCode===13||u.keyCode===32)&&S(u)}const I=o(d,_);return Object.assign(a,{toggle:S}),()=>{const u=I();t.disable!==!0&&x(u,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const E=[v("div",{class:c.value,style:y.value,"aria-hidden":"true"},u)];p.value!==null&&E.push(p.value);const N=t.label!==void 0?ze(n.default,[t.label]):de(n.default);return N!==void 0&&E.push(v("div",{class:`q-${e}__label q-anchor--skip`},N)),v("div",{ref:m,class:M.value,...F.value,onClick:S,onKeydown:ee,onKeyup:te},E)}}const gt=v("div",{key:"svg",class:"q-checkbox__bg absolute"},[v("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[v("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),v("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var Wt=U({name:"QCheckbox",props:vt,emits:mt,setup(e){function o(t,n){const l=f(()=>(t.value===!0?e.checkedIcon:n.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>l.value!==null?[v("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[v(Re,{class:"q-checkbox__icon",name:l.value})])]:[gt]}return ht("checkbox",o)}});let z=[],K=[];function Be(e){K=K.filter(o=>o!==e)}function pt(e){Be(e),K.push(e)}function we(e){Be(e),K.length===0&&z.length!==0&&(z[z.length-1](),z=[])}function Le(e){K.length===0?e():z.push(e)}var Yt=U({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:o,emit:t}){const n=j(),l=T(null);let a=0;const i=[];function b(s){const d=typeof s=="boolean"?s:e.noErrorFocus!==!0,q=++a,_=(c,h)=>{t("validation"+(c===!0?"Success":"Error"),h)},L=c=>{const h=c.validate();return typeof h.then=="function"?h.then(x=>({valid:x,comp:c}),x=>({valid:!1,comp:c,err:x})):Promise.resolve({valid:h,comp:c})};return(e.greedy===!0?Promise.all(i.map(L)).then(c=>c.filter(h=>h.valid!==!0)):i.reduce((c,h)=>c.then(()=>L(h).then(x=>{if(x.valid===!1)return Promise.reject(x)})),Promise.resolve()).catch(c=>[c])).then(c=>{if(c===void 0||c.length===0)return q===a&&_(!0),!0;if(q===a){const{comp:h,err:x}=c[0];if(x!==void 0&&console.error(x),_(!1,h),d===!0){const F=c.find(({comp:S})=>typeof S.focus=="function"&&fe(S.$)===!1);F!==void 0&&F.comp.focus()}}return!1})}function m(){a++,i.forEach(s=>{typeof s.resetValidation=="function"&&s.resetValidation()})}function p(s){s!==void 0&&R(s);const d=a+1;b().then(q=>{d===a&&q===!0&&(e.onSubmit!==void 0?t("submit",s):s!==void 0&&s.target!==void 0&&typeof s.target.submit=="function"&&s.target.submit())})}function k(s){s!==void 0&&R(s),t("reset"),Ve(()=>{m(),e.autofocus===!0&&e.noResetFocus!==!0&&y()})}function y(){Le(()=>{if(l.value===null)return;const s=l.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||l.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||l.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(l.value.querySelectorAll("[tabindex]"),d=>d.tabIndex>-1);s!=null&&s.focus({preventScroll:!0})})}Ne(Ge,{bindComponent(s){i.push(s)},unbindComponent(s){const d=i.indexOf(s);d>-1&&i.splice(d,1)}});let w=!1;return ve(()=>{w=!0}),We(()=>{w===!0&&e.autofocus===!0&&y()}),Ye(()=>{e.autofocus===!0&&y()}),Object.assign(n.proxy,{validate:b,resetValidation:m,submit:p,reset:k,focus:y,getValidationComponents:()=>i}),()=>v("form",{class:"q-form",ref:l,onSubmit:p,onReset:k},de(o.default))}});function bt(e,o,t){let n;function l(){n!==void 0&&(ge.remove(n),n=void 0)}return J(()=>{e.value===!0&&l()}),{removeFromHistory:l,addToHistory(){n={condition:()=>t.value===!0,handler:o},ge.add(n)}}}function yt(){let e=null;const o=j();function t(){e!==null&&(clearTimeout(e),e=null)}return ve(t),J(t),{removeTimeout:t,registerTimeout(n,l){t(),fe(o)===!1&&(e=setTimeout(n,l))}}}function wt(){let e;const o=j();function t(){e=void 0}return ve(t),J(t),{removeTick:t,registerTick(n){e=n,Ve(()=>{e===n&&(fe(o)===!1&&e(),e=void 0)})}}}const xt={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function kt(e,o=()=>{},t=()=>{}){return{transitionProps:f(()=>{const n=`q-transition--${e.transitionShow||o()}`,l=`q-transition--${e.transitionHide||t()}`;return{appear:!0,enterFromClass:`${n}-enter-from`,enterActiveClass:`${n}-enter-active`,enterToClass:`${n}-enter-to`,leaveFromClass:`${l}-leave-from`,leaveActiveClass:`${l}-leave-active`,leaveToClass:`${l}-leave-to`}}),transitionStyle:f(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}let qt=1,St=document.body;function Et(e,o){const t=document.createElement("div");if(t.id=o!==void 0?`q-portal--${o}--${qt++}`:e,pe.globalNodes!==void 0){const n=pe.globalNodes.class;n!==void 0&&(t.className=n)}return St.appendChild(t),t}function _t(e){e.remove()}const X=[];function Ct(e){return X.find(o=>o.contentEl!==null&&o.contentEl.contains(e))}function Tt(e,o){do{if(e.$options.name==="QMenu"){if(e.hide(o),e.$props.separateClosePopup===!0)return G(e)}else if(e.__qPortal===!0){const t=G(e);return t!==void 0&&t.$options.name==="QPopupProxy"?(e.hide(o),t):e}e=G(e)}while(e!=null)}function Pt(e,o,t){for(;t!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(t--,e.$options.name==="QMenu"){e=Tt(e,o);continue}e.hide(o)}e=G(e)}}function Vt(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function $t(e,o,t,n){const l=T(!1),a=T(!1);let i=null;const b={},m=n==="dialog"&&Vt(e);function p(y){if(y===!0){we(b),a.value=!0;return}a.value=!1,l.value===!1&&(m===!1&&i===null&&(i=Et(!1,n)),l.value=!0,X.push(e.proxy),pt(b))}function k(y){if(a.value=!1,y!==!0)return;we(b),l.value=!1;const w=X.indexOf(e.proxy);w!==-1&&X.splice(w,1),i!==null&&(_t(i),i=null)}return Xe(()=>{k(!0)}),e.proxy.__qPortal=!0,Ue(e.proxy,"contentEl",()=>o.value),{showPortal:p,hidePortal:k,portalIsActive:l,portalIsAccessible:a,renderPortal:()=>m===!0?t():l.value===!0?[v(Je,{to:i},t())]:void 0}}let A=0,re,ue,Q,ce=!1,xe,ke,qe,V=null;function Bt(e){Lt(e)&&R(e)}function Lt(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const o=Ze(e),t=e.shiftKey&&!e.deltaX,n=!t&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),l=t||n?e.deltaY:e.deltaX;for(let a=0;a<o.length;a++){const i=o[a];if(lt(i,n))return n?l<0&&i.scrollTop===0?!0:l>0&&i.scrollTop+i.clientHeight===i.scrollHeight:l<0&&i.scrollLeft===0?!0:l>0&&i.scrollLeft+i.clientWidth===i.scrollWidth}return!0}function Se(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function W(e){ce!==!0&&(ce=!0,requestAnimationFrame(()=>{ce=!1;const{height:o}=e.target,{clientHeight:t,scrollTop:n}=document.scrollingElement;(Q===void 0||o!==window.innerHeight)&&(Q=t-o,document.scrollingElement.scrollTop=n),n>Q&&(document.scrollingElement.scrollTop-=Math.ceil((n-Q)/8))}))}function Ee(e){const o=document.body,t=window.visualViewport!==void 0;if(e==="add"){const{overflowY:n,overflowX:l}=window.getComputedStyle(o);re=ot(window),ue=nt(window),xe=o.style.left,ke=o.style.top,qe=window.location.href,o.style.left=`-${re}px`,o.style.top=`-${ue}px`,l!=="hidden"&&(l==="scroll"||o.scrollWidth>window.innerWidth)&&o.classList.add("q-body--force-scrollbar-x"),n!=="hidden"&&(n==="scroll"||o.scrollHeight>window.innerHeight)&&o.classList.add("q-body--force-scrollbar-y"),o.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,C.is.ios===!0&&(t===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",W,P.passiveCapture),window.visualViewport.addEventListener("scroll",W,P.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",Se,P.passiveCapture))}C.is.desktop===!0&&C.is.mac===!0&&window[`${e}EventListener`]("wheel",Bt,P.notPassive),e==="remove"&&(C.is.ios===!0&&(t===!0?(window.visualViewport.removeEventListener("resize",W,P.passiveCapture),window.visualViewport.removeEventListener("scroll",W,P.passiveCapture)):window.removeEventListener("scroll",Se,P.passiveCapture)),o.classList.remove("q-body--prevent-scroll"),o.classList.remove("q-body--force-scrollbar-x"),o.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,o.style.left=xe,o.style.top=ke,window.location.href===qe&&window.scrollTo(re,ue),Q=void 0)}function Ft(e){let o="add";if(e===!0){if(A++,V!==null){clearTimeout(V),V=null;return}if(A>1)return}else{if(A===0||(A--,A>0))return;if(o="remove",C.is.ios===!0&&C.is.nativeMobile===!0){V!==null&&clearTimeout(V),V=setTimeout(()=>{Ee(o),V=null},100);return}}Ee(o)}function It(){let e;return{preventBodyScroll(o){o!==e&&(e!==void 0||o===!0)&&(e=o,Ft(o))}}}const $=[];let H;function Dt(e){H=e.keyCode===27}function Ht(){H===!0&&(H=!1)}function Mt(e){H===!0&&(H=!1,$e(e,27)===!0&&$[$.length-1](e))}function Fe(e){window[e]("keydown",Dt),window[e]("blur",Ht),window[e]("keyup",Mt),H=!1}function Ot(e){C.is.desktop===!0&&($.push(e),$.length===1&&Fe("addEventListener"))}function _e(e){const o=$.indexOf(e);o>-1&&($.splice(o,1),$.length===0&&Fe("removeEventListener"))}const B=[];function Ie(e){B[B.length-1](e)}function At(e){C.is.desktop===!0&&(B.push(e),B.length===1&&document.body.addEventListener("focusin",Ie))}function Ce(e){const o=B.indexOf(e);o>-1&&(B.splice(o,1),B.length===0&&document.body.removeEventListener("focusin",Ie))}let Y=0;const zt={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Te={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var Gt=U({name:"QDialog",inheritAttrs:!1,props:{...it,...xt,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...at,"shake","click","escapeKey"],setup(e,{slots:o,emit:t,attrs:n}){const l=j(),a=T(null),i=T(!1),b=T(!1);let m=null,p=null,k,y;const w=f(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:s}=It(),{registerTimeout:d}=yt(),{registerTick:q,removeTick:_}=wt(),{transitionProps:L,transitionStyle:M}=kt(e,()=>Te[e.position][0],()=>Te[e.position][1]),{showPortal:c,hidePortal:h,portalIsAccessible:x,renderPortal:F}=$t(l,a,Oe,"dialog"),{hide:S}=st({showing:i,hideOnRouteChange:w,handleShow:N,handleHide:De,processOnMount:!0}),{addToHistory:Z,removeFromHistory:ee}=bt(i,S,w),te=f(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${zt[e.position]}`+(b.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),I=f(()=>i.value===!0&&e.seamless!==!0),u=f(()=>e.autoClose===!0?{onClick:He}:{}),E=f(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${I.value===!0?"modal":"seamless"}`,n.class]);be(()=>e.maximized,r=>{i.value===!0&&le(r)}),be(I,r=>{s(r),r===!0?(At(ie),Ot(ne)):(Ce(ie),_e(ne))});function N(r){Z(),p=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,le(e.maximized),c(),b.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),q(O)):_(),d(()=>{if(l.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:g,bottom:ae}=document.activeElement.getBoundingClientRect(),{innerHeight:he}=window,se=window.visualViewport!==void 0?window.visualViewport.height:he;g>0&&ae>se/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-se,ae>=he?1/0:Math.ceil(document.scrollingElement.scrollTop+ae-se/2))),document.activeElement.scrollIntoView()}y=!0,a.value.click(),y=!1}c(!0),b.value=!1,t("show",r)},e.transitionDuration)}function De(r){_(),ee(),me(!0),b.value=!0,h(),p!==null&&(((r&&r.type.indexOf("key")===0?p.closest('[tabindex]:not([tabindex^="-"])'):void 0)||p).focus(),p=null),d(()=>{h(!0),b.value=!1,t("hide",r)},e.transitionDuration)}function O(r){Le(()=>{let g=a.value;g===null||g.contains(document.activeElement)===!0||(g=(r!==""?g.querySelector(r):null)||g.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||g.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||g.querySelector("[autofocus], [data-autofocus]")||g,g.focus({preventScroll:!0}))})}function oe(r){r&&typeof r.focus=="function"?r.focus({preventScroll:!0}):O(),t("shake");const g=a.value;g!==null&&(g.classList.remove("q-animate--scale"),g.classList.add("q-animate--scale"),m!==null&&clearTimeout(m),m=setTimeout(()=>{m=null,a.value!==null&&(g.classList.remove("q-animate--scale"),O())},170))}function ne(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&oe():(t("escapeKey"),S()))}function me(r){m!==null&&(clearTimeout(m),m=null),(r===!0||i.value===!0)&&(le(!1),e.seamless!==!0&&(s(!1),Ce(ie),_e(ne))),r!==!0&&(p=null)}function le(r){r===!0?k!==!0&&(Y<1&&document.body.classList.add("q-body--dialog"),Y++,k=!0):k===!0&&(Y<2&&document.body.classList.remove("q-body--dialog"),Y--,k=!1)}function He(r){y!==!0&&(S(r),t("click",r))}function Me(r){e.persistent!==!0&&e.noBackdropDismiss!==!0?S(r):e.noShake!==!0&&oe()}function ie(r){e.allowFocusOutside!==!0&&x.value===!0&&Ke(a.value,r.target)!==!0&&O('[tabindex]:not([tabindex="-1"])')}Object.assign(l.proxy,{focus:O,shake:oe,__updateRefocusTarget(r){p=r||null}}),J(me);function Oe(){return v("div",{role:"dialog","aria-modal":I.value===!0?"true":"false",...n,class:E.value},[v(ye,{name:"q-transition--fade",appear:!0},()=>I.value===!0?v("div",{class:"q-dialog__backdrop fixed-full",style:M.value,"aria-hidden":"true",tabindex:-1,onClick:Me}):null),v(ye,L.value,()=>i.value===!0?v("div",{ref:a,class:te.value,style:M.value,tabindex:-1,...u.value},de(o.default)):null)])}return F}});function Pe(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const o=parseInt(e,10);return isNaN(o)?0:o}var Xt=je({name:"close-popup",beforeMount(e,{value:o}){const t={depth:Pe(o),handler(n){t.depth!==0&&setTimeout(()=>{const l=Ct(e);l!==void 0&&Pt(l,n,t.depth)})},handlerKey(n){$e(n,13)===!0&&t.handler(n)}};e.__qclosepopup=t,e.addEventListener("click",t.handler),e.addEventListener("keyup",t.handlerKey)},updated(e,{value:o,oldValue:t}){o!==t&&(e.__qclosepopup.depth=Pe(o))},beforeUnmount(e){const o=e.__qclosepopup;e.removeEventListener("click",o.handler),e.removeEventListener("keyup",o.handlerKey),delete e.__qclosepopup}});export{Xt as C,Gt as Q,Nt as a,Yt as b,Wt as c};
