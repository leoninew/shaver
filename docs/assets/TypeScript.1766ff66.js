import{b as $,Q as b}from"./use-dark.d85c521f.js";import{e as f}from"./QBtn.251daa3f.js";import{u as I,Q as N,_ as w,c as Q}from"./localStorage.38810204.js";import{k as C,i as h,u as c}from"./types.1201977b.js";import{d as q,A,r as i,a as E,B as R,V as U,D as V,E as D,F as s,H as T,G as t,W as O}from"./index.135a5d6f.js";function*J(p,m){const n=C(p);for(const{name:e,type:o}of n){if(!h(o))continue;yield`export interface ${e} {`;const l=o,x=Object.keys(l);for(const r of x)yield`  ${r}: ${l[r]}`;yield`}
`}}function*M(p,m){const n=C(p);yield'import axios from "axios";',yield"";for(const{name:e}of n)yield"const getAll = async function () {",yield`  let url = \`/api/v2/${c(e)}\`;`,yield"  let resp = await axios.get(url);",yield"  return resp.data;",yield"};",yield"",yield"const get = async function (id: string | number) {",yield`  let url = \`/api/v2/${c(e)}/\${id}\`;`,yield"  let resp = await axios.get(url);",yield"  return resp.data;",yield"};",yield"",yield`const post = async function (input: ${e}CreateInput) {`,yield`  let url = \`/api/v2/${c(e)}\`;`,yield"  let resp = await axios.post(url, input);",yield"  return resp.data;",yield"};",yield"",yield`export interface ${e}CreateInput {`,yield"};",yield"",yield`const put = async function (id: string | number, input: ${e}UpdateInput) {`,yield`  let url = \`/api/v2/${c(e)}/\${id}\`;`,yield"  let resp = await axios.put(url, input);",yield"  return resp.data;",yield"};",yield"",yield`export interface ${e}UpdateInput {`,yield"};",yield"",yield"const remove = async function (id: string | number) {",yield`  let url = \`/api/v2/${c(e)}/\${id}\`;`,yield"  let resp = await axios.delete(url);",yield"  return resp.data;",yield"};",yield"",yield`export interface ${e}Api {`,yield"  getAll,",yield"  get,",yield"  post,",yield"  put,",yield"  remove,",yield"};",yield""}const F={class:"q-pa-md"},G={class:"q-pa-md"},K=q({__name:"TypeScript",setup(p){const m=A(),n=I(),e=i(""),o=i(""),v=i(""),l=i(!1),x=i({}),r=i();E(async()=>{e.value=n.get("/transform/mysql/input")||JSON.stringify({id:1,userId:1,title:"delectus aut autem",completed:!1,created:"2024-01-06T13:39:32.006Z"},null,2),await g(e.value)}),R(async d=>{await g(e.value,d.query.kind)});const g=async(d,a)=>{var _;v.value="";const y=U(x.value);n.set("/transform/input",d);const B=(a!=null?a:m.query.kind)==="type"?J:M;try{const u=JSON.parse(d);o.value=(_=Array.from(B(u,y)).join(`
`))!=null?_:""}catch(u){if(u instanceof SyntaxError)v.value=u.message;else throw u}},S=async()=>{await r.value.formatDoc()},k=async()=>{e.value=""},j=async()=>{await Q(o.value)};return(d,a)=>(V(),D(N,{"model-value":50},{before:s(()=>[T("div",F,[t(b,{class:"text-primary"},{default:s(()=>[t($,null,{default:s(()=>[O("JSON")]),_:1}),t(f,{flat:"",round:"",dense:"",icon:"format_align_left",onClick:S}),t(f,{flat:"",round:"",dense:"",icon:"delete",onClick:k})]),_:1}),t(w,{text:e.value,"onUpdate:text":a[0]||(a[0]=y=>e.value=y),language:"json",onChanged:g,ref_key:"inputEditor",ref:r},null,8,["text"])])]),after:s(()=>[T("div",G,[t(b,{class:"text-primary"},{default:s(()=>[t($,null,{default:s(()=>[O("TypeScript")]),_:1}),t(f,{flat:"",round:"",dense:"",icon:"settings",onClick:a[1]||(a[1]=y=>l.value=!l.value),disable:""}),t(f,{flat:"",round:"",dense:"",icon:"content_copy",onClick:j})]),_:1}),t(w,{text:o.value,language:"typescript"},null,8,["text"])])]),_:1}))}});export{K as default};
